{"ast":null,"code":"import { BaseUiElementFactory, PublicUiElementIdAndClasses } from \"./base\";\nimport { Html5QrcodeScannerStrings } from \"../../strings\";\nvar CameraSelectionUi = function () {\n  function CameraSelectionUi(cameras) {\n    this.selectElement = BaseUiElementFactory.createElement(\"select\", PublicUiElementIdAndClasses.CAMERA_SELECTION_SELECT_ID);\n    this.cameras = cameras;\n    this.options = [];\n  }\n  CameraSelectionUi.prototype.render = function (parentElement) {\n    var cameraSelectionContainer = document.createElement(\"span\");\n    cameraSelectionContainer.style.marginRight = \"10px\";\n    var numCameras = this.cameras.length;\n    if (numCameras === 0) {\n      throw new Error(\"No cameras found\");\n    }\n    if (numCameras === 1) {\n      cameraSelectionContainer.style.display = \"none\";\n    } else {\n      var selectCameraString = Html5QrcodeScannerStrings.selectCamera();\n      cameraSelectionContainer.innerText = \"\".concat(selectCameraString, \" (\").concat(this.cameras.length, \")  \");\n    }\n    var anonymousCameraId = 1;\n    for (var _i = 0, _a = this.cameras; _i < _a.length; _i++) {\n      var camera = _a[_i];\n      var value = camera.id;\n      var name_1 = camera.label == null ? value : camera.label;\n      if (!name_1 || name_1 === \"\") {\n        name_1 = [Html5QrcodeScannerStrings.anonymousCameraPrefix(), anonymousCameraId++].join(\" \");\n      }\n      var option = document.createElement(\"option\");\n      option.value = value;\n      option.innerText = name_1;\n      this.options.push(option);\n      this.selectElement.appendChild(option);\n    }\n    cameraSelectionContainer.appendChild(this.selectElement);\n    parentElement.appendChild(cameraSelectionContainer);\n  };\n  CameraSelectionUi.prototype.disable = function () {\n    this.selectElement.disabled = true;\n  };\n  CameraSelectionUi.prototype.isDisabled = function () {\n    return this.selectElement.disabled === true;\n  };\n  CameraSelectionUi.prototype.enable = function () {\n    this.selectElement.disabled = false;\n  };\n  CameraSelectionUi.prototype.getValue = function () {\n    return this.selectElement.value;\n  };\n  CameraSelectionUi.prototype.hasValue = function (value) {\n    for (var _i = 0, _a = this.options; _i < _a.length; _i++) {\n      var option = _a[_i];\n      if (option.value === value) {\n        return true;\n      }\n    }\n    return false;\n  };\n  CameraSelectionUi.prototype.setValue = function (value) {\n    if (!this.hasValue(value)) {\n      throw new Error(\"\".concat(value, \" is not present in the camera list.\"));\n    }\n    this.selectElement.value = value;\n  };\n  CameraSelectionUi.prototype.hasSingleItem = function () {\n    return this.cameras.length === 1;\n  };\n  CameraSelectionUi.prototype.numCameras = function () {\n    return this.cameras.length;\n  };\n  CameraSelectionUi.create = function (parentElement, cameras) {\n    var cameraSelectUi = new CameraSelectionUi(cameras);\n    cameraSelectUi.render(parentElement);\n    return cameraSelectUi;\n  };\n  return CameraSelectionUi;\n}();\nexport { CameraSelectionUi };","map":{"version":3,"sources":["../../../../src/ui/scanner/camera-selection-ui.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { BaseUiElementFactory, PublicUiElementIdAndClasses } from \"./base\";\nimport { Html5QrcodeScannerStrings } from \"../../strings\";\nvar CameraSelectionUi = (function () {\n    function CameraSelectionUi(cameras) {\n        this.selectElement = BaseUiElementFactory\n            .createElement(\"select\", PublicUiElementIdAndClasses.CAMERA_SELECTION_SELECT_ID);\n        this.cameras = cameras;\n        this.options = [];\n    }\n    CameraSelectionUi.prototype.render = function (parentElement) {\n        var cameraSelectionContainer = document.createElement(\"span\");\n        cameraSelectionContainer.style.marginRight = \"10px\";\n        var numCameras = this.cameras.length;\n        if (numCameras === 0) {\n            throw new Error(\"No cameras found\");\n        }\n        if (numCameras === 1) {\n            cameraSelectionContainer.style.display = \"none\";\n        }\n        else {\n            var selectCameraString = Html5QrcodeScannerStrings.selectCamera();\n            cameraSelectionContainer.innerText\n                = \"\".concat(selectCameraString, \" (\").concat(this.cameras.length, \")  \");\n        }\n        var anonymousCameraId = 1;\n        for (var _i = 0, _a = this.cameras; _i < _a.length; _i++) {\n            var camera = _a[_i];\n            var value = camera.id;\n            var name_1 = camera.label == null ? value : camera.label;\n            if (!name_1 || name_1 === \"\") {\n                name_1 = [\n                    Html5QrcodeScannerStrings.anonymousCameraPrefix(),\n                    anonymousCameraId++\n                ].join(\" \");\n            }\n            var option = document.createElement(\"option\");\n            option.value = value;\n            option.innerText = name_1;\n            this.options.push(option);\n            this.selectElement.appendChild(option);\n        }\n        cameraSelectionContainer.appendChild(this.selectElement);\n        parentElement.appendChild(cameraSelectionContainer);\n    };\n    CameraSelectionUi.prototype.disable = function () {\n        this.selectElement.disabled = true;\n    };\n    CameraSelectionUi.prototype.isDisabled = function () {\n        return this.selectElement.disabled === true;\n    };\n    CameraSelectionUi.prototype.enable = function () {\n        this.selectElement.disabled = false;\n    };\n    CameraSelectionUi.prototype.getValue = function () {\n        return this.selectElement.value;\n    };\n    CameraSelectionUi.prototype.hasValue = function (value) {\n        for (var _i = 0, _a = this.options; _i < _a.length; _i++) {\n            var option = _a[_i];\n            if (option.value === value) {\n                return true;\n            }\n        }\n        return false;\n    };\n    CameraSelectionUi.prototype.setValue = function (value) {\n        if (!this.hasValue(value)) {\n            throw new Error(\"\".concat(value, \" is not present in the camera list.\"));\n        }\n        this.selectElement.value = value;\n    };\n    CameraSelectionUi.prototype.hasSingleItem = function () {\n        return this.cameras.length === 1;\n    };\n    CameraSelectionUi.prototype.numCameras = function () {\n        return this.cameras.length;\n    };\n    CameraSelectionUi.create = function (parentElement, cameras) {\n        var cameraSelectUi = new CameraSelectionUi(cameras);\n        cameraSelectUi.render(parentElement);\n        return cameraSelectUi;\n    };\n    return CameraSelectionUi;\n}());\nexport { CameraSelectionUi };\n//# sourceMappingURL=camera-selection-ui.js.map"]},"metadata":{},"sourceType":"module"}